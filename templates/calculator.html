<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>卡路里地圖</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Favicons -->
    <link rel="apple-touch-icon" href="/docs/5.1/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
    <link rel="manifest" href="/docs/5.1/assets/img/favicons/manifest.json">
    <link rel="mask-icon" href="/docs/5.1/assets/img/favicons/safari-pinned-tab.svg" color="#7952b3">
    <link rel="icon" href="/docs/5.1/assets/img/favicons/favicon.ico">
    <meta name="theme-color" content="#7952b3">


    <style>
      /* .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      } */

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

  </head>
<body style="overflow-y: scroll; overflow-x: hidden; background-color: #EBE7E0;">
  <section>
    <img src="static\cloud-3.png" style="position:absolute;right: 30px;bottom: 80px;z-index: -1;"></img>
    <img src="static\cloud-3.png" style="position:absolute;left: 30px; top: 100px;z-index: -1;"></img>
  </section>
  

  <header >
    <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom bg-dark text-center text-white" >
      <div class="mt-2">
      <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
        <img src="static/9.png" width="50" height="50"/>
        <span class="fs-4 text-white">Can Ideal</span>
      </a>
    </div>
      <nav class="d-inline-flex mt-3 mt-md-0 ms-md-auto">
        <a class="fs-5 p-3 text-dark text-decoration-none text-white" href="/">首頁</a>
        <a class="fs-5 p-3 text-dark text-decoration-none text-white" href="#">卡路里地圖</a>
        <a class="fs-5 p-3 text-dark text-decoration-none text-white" href="/calculator">熱量計算機</a>
        <a class="fs-5 p-3 text-dark text-decoration-none text-white" href="">營養素計算機</a>
        <a class="fs-5 p-3 text-dark text-decoration-none text-white" href="#" >關於我們</a>
      </nav>
    </div>

  </header>


  <main>
    <div class="row justify-content-center align-items-center">
      <div class="text-center">
        <h1 class="display-8 fw-normal ">BMI & Calories Calculator</h1>
      </div>
      <div class="col-md-8 mt-3" style="border-color:#000000;border-top-style:groove;border-width:3px;">
        <div class="row justify-content-center align-items-center">
          <div class="col-md-6">
            <table class="table">
              <tbody>
                <tr>
                  <th class="align-middle" scope="row">身高</th>
                  <td class="align-middle">
                      <input type="text" class="form-control" placeholder="公分" aria-label="公斤" aria-describedby="basic-addon1" id="height">
                  </td>
                </tr>
                <tr>
                  <th class="align-middle" scope="row">體重</th>
                  <td class="align-middle">
                      <input type="text" class="form-control" placeholder="公斤" aria-label="公斤" aria-describedby="basic-addon1" id="weight">
                  </td>
                </tr>
                <tr>
                  <th class="align-middle" scope="row" >活動量</th>
                  <td class="align-middle" >
                      <select class="form-select" aria-label="amount-of-activity" id="activity">
                          <option selected>活動量</option>
                          <option value="light">輕度工作</option>
                          <option value="median">中度工作</option>
                          <option value="heavy">重度工作</option>
                        </select></td>
                </tr>
                <tr>
                  <th class="align-middle" scope="row">性別</th>
                  <td class="align-middle" >
                    <div class="form-check">
                      <div class="form-check form-check-inline">
                        <label><input class="form-check-input" type="radio" name="flexRadioDefault" value="male">男</label>
                      </div>
                      <div class="form-check form-check-inline">
                        <label><input class="form-check-input" type="radio" name="flexRadioDefault" value="female">女</label>
                      </div>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="row">
              <div class="col-md-1.5">
                <button class="btn btn-success" onclick="getVal()">開始計算</button>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <ol>
              <li>
                輕度工作：<br>
                大部分從事靜態或坐者的工作。<br>
                例如：家庭主婦、坐辦公室的上班族、售貨員。
              </li>
              <li>
                  中度工作<br>
                  從事機械操作、接待或家事等站立活動較多的工作。<br>
                  例如：褓母、護士、服務生<br>
              </li>
              <li>
                  重度工作<br>
                  從事農耕、漁業、建築等的重度使用體力之工作。<br>
                  例如：運動員、搬家工人<br>
              </li>
          </ol>


          </div>
        </div>
      </div>


    </div>

    <div class="row mt-3 justify-content-center align-items-center">
      <div class="col-md-8" style="border-color:#000000;border-top-style:groove;border-width:1px;">
        <div class="row">
          <div class="col-md-6 mt-2">
            <h4>試算結果</h4>
            <table class="table" style="border:black 2px groove">
              <tbody>
                <tr class="table-warning">
                  <th class="align-middle" scope="row" style="width: 40%;">BMI</th>
                  <td class="align-middle">
                    <h4 id="BMI"></h4> 
                  </td>
                </tr>
                <tr class="table-light">
                  <th class="align-middle" scope="row">標準體重</th>
                  <td class="align-middle">
                    <h4 id="command_weight"></h4> 
                  </td>
                </tr>
                <tr class="table-warning">
                  <th class="align-middle" scope="row" >體重合理範圍</th>
                  <td class="align-middle" >
                    <h4 id="command_weight_range"></h4> 
                  </td>
                </tr>
                <tr class="table-light">
                  <th class="align-middle" scope="row">建議熱量</th>
                  <td class="align-middle" >
                    <h4 id="calories"></h4> 
                  </td>
                </tr>
              </tbody>
            </table>
            <h4>建議營養素攝取量</h4>
            <table class="table" style="border:black 2px groove">
              <tbody>
                <tr class="table-warning">
                  <th class="align-middle" scope="row" style="width: 40%;">碳水化合物</th>
                  <td class="align-middle">
                    <h4 id="carbohydrate"></h4> 
                  </td>
                </tr>
                <tr class="table-light">
                  <th class="align-middle" scope="row">脂肪</th>
                  <td class="align-middle">
                    <h4 id="fat"></h4> 
                  </td>
                </tr>
                <tr class="table-warning">
                  <th class="align-middle" scope="row">蛋白質</th>
                  <td class="align-middle" >
                    <h4 id="protein"></h4> 
                  </td>
              </tbody>
            </table>
            <div class="row">
              <div class="col">
                <button class="btn btn-success" id="six-comment" style="display:none;">&#128073; 點我看六大類飲食建議</button>
              </div>
            </div>
            
          </div>
          <div class="col-md-6 mt-2">
            <p>計算公式：</p>
            <ol>
                <li>
                    標準體重：<br>
                    男性：（身高cm－80）×70﹪<br>
                    女性：（身高cm－70）×60﹪
                </li>
                <li>
                    體重合理範圍：<br>
                    標準體重 ×90﹪~ 標準體重 ×110﹪
                </li>
                <li>
                    輕度工作(大卡)：<br>
                    體重過輕(小於合理範圍最小值) ：35×標準體重<br>
                    體重標準 ：30×標準體重<br>
                    體重過重(大於合理範圍最大值) ：25×標準體重
                </li>
                <li>
                    中度工作(大卡)：<br>
                    體重過輕(小於合理範圍最小值) ：40×標準體重<br>
                    體重標準 ：35×標準體重<br>
                    體重過重(大於合理範圍最大值) ：30×標準體重
                </li>
                <li>
                    重度工作(大卡)：<br>
                    體重過輕(小於合理範圍最小值) ：45×標準體重<br>
                    體重標準 ：40×標準體重<br>
                    體重過重(大於合理範圍最大值) ：35×標準體重
                </li>
            </ol>
            <p>
                範例：<br>
                性別→男、身高→180公分、體重→100公斤、活動量→中度工作
            </p>
            <ol>
                <li>
                    標準體重：(180-80)×70﹪=70公斤
                </li>
                <li>
                    體重合理範圍:<br>
                    最小值(70×90﹪=63公斤)<br>
                    最大值(70×110﹪=77公斤)<br>
                </li>
                <li>
                    體重100公斤&gt;體重合理範圍最大值77公斤<br>
                    中度工作:30×70=2100(大卡)
                </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
      
      


  </main>
  

  <footer class="bg-dark text-center text-white" style="left: 0;
  bottom: 0;
  width: 100%;">

    <!-- Grid container -->
    <div class="container">
      
    </div>
  
    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2022 Copyright:
      <a class="text-white text-decoration-none" href="/" >eCloudvalley</a>
    </div>
    <!-- Copyright -->
  </footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    // const getValueInput1 = () =>{
    // let inputValue = document.getElementById("domTextElement").value; 
    // document.getElementById("valueInput").innerHTML = inputValue; 
    // }

    function getVal(){
    var height = document.getElementById("height").value;
    var weight = document.getElementById("weight").value;
    var activity = document.getElementById("activity").value;
    var gender = $("[name='flexRadioDefault']:checked").val();
    var BMI = Math.round(weight/((height/100)**2)*100)/100;
    var command_weight;
    var command_weight_upper;
    var command_weight_lower;
    var calories;


  if (gender === "male") {
    command_weight = (height-80)*0.7;
    command_weight_upper = command_weight*1.1;
    command_weight_lower = command_weight*0.9;
  } else if (gender === "female"){
    command_weight = (height-70)*0.6;
    command_weight_upper = command_weight*1.1;
    command_weight_lower = command_weight*0.9;}
    
    if (activity === "light") {
      if (weight > command_weight_upper)
      calories = 25*command_weight;
      else if (weight < command_weight_lower) 
      calories = 35*command_weight;
      else 
      calories = 30*command_weight;}
    else if (activity === "median") {
      if (weight > command_weight_upper)
      calories = 30*command_weight;
      else if (weight < command_weight_lower) 
      calories = 40*command_weight;
      else 
      calories = 35*command_weight;}
    else if (activity === "heavy") {
      if (weight > command_weight_upper) 
      calories = 35*command_weight;
      else if (weight < command_weight_lower) 
      calories = 45*command_weight;
      else 
      calories = 40*command_weight;}
    
    var carbohydrate = String(Math.round(calories*0.6/4 * 10)/10)+"g"
    var fat = String(Math.round(calories*0.2/9 * 10)/10)+"g"
    var protein = String(Math.round(calories*0.2/4 * 10)/10)+"g"


    command_weight = String(Math.round(command_weight * 100) / 100)+"kg"
    command_weight_lower = String(Math.round(command_weight_lower * 10) / 10)+"kg"
    command_weight_upper = String(Math.round(command_weight_upper * 10) / 10)+"kg"
    calories = String(Math.round(calories))+"cal"
    

    var command_weight_range = command_weight_lower+" ~ "+command_weight_upper

    document.getElementById("BMI").innerHTML = BMI;
    document.getElementById("command_weight").innerHTML = command_weight;
    document.getElementById("command_weight_range").innerHTML = command_weight_range;
    document.getElementById("calories").innerHTML = calories;
    document.getElementById("carbohydrate").innerHTML = carbohydrate;
    document.getElementById("fat").innerHTML = fat;
    document.getElementById("protein").innerHTML = protein;
    // console.log("show form");
    $("#six-comment").fadeIn(500);
    }
  </script>

</body>
</html>

<!-- reference -->
<!-- https://health.secom.com.tw/App_Prog/Cal_Calculate.aspx -->
<!-- https://student.nutc.edu.tw/ezfiles/4/1004/img/2298/649509522.pdf -->
<!-- https://www.commonhealth.com.tw/diabetes/research/food -->
